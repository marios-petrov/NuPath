{% load static %}
<!DOCTYPE html> <!-- ANDY'S PAGE-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" type="text/css" href="https://bootswatch.com/5/zephyr/bootstrap.min.css">
</head>
<!-- 5. NuPath also lists all the dorm details (room pictures, food options, location ) so they know where they are going. -->
<body>
    {% if dorm.dormtype != 'Off Campus' %}
    <style>
        .carousel-item img{
            max-block-size: 50%;
        }
    </style>
        <a class="btn btn-primary m-2" href="{% url 'dorms' %}">Back to housing options...</a>
        <!-- IMAGE CAROUSEL DISPLAY -->
        <div id="carouselExampleIndicators" class="carousel slide m-2" data-bs-ride="carousel">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner"> <!-- If we make the images more dynamic, we can make this an if loop, but rn it's not necessary.-->
              <div class="carousel-item active">
                <img src="{{ dorm.dormpic1.url }}" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="{{ dorm.dormpic2.url }}" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="{{ dorm.dormpic3.url }}" class="d-block w-100" alt="...">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
          <!-- DORM SELECTION BUTTON-->
          <form method="POST" href="{% url 'dormview' dorm.id %}">
            {% csrf_token %}  <!-- this is needed to submit forms, prevents hijacking -->
            <input type="hidden" name="select" value="select_dorm">
            <input type="hidden" name="current_dormview" value="{{ dorm.id }}">
            <button type="submit" class="{% if dorm.is_current_dorm %} btn btn-primary {% else %} btn btn-secondary {% endif %}">
              {% if dorm.is_current_dorm %} Current dorm {% else %} Select dorm {% endif %}
              <!-- instead of using a boolean, in the future this should check the user's profile or a dorm profile's choice-->
            </button>
          </form>
          <div class="m-2"> <!-- TEXT INFORMATION-->
            <h3>{{ dorm.dormtype }}</h3>
            <p>
                {{ dorm.dormtype }} is located at... {{ dorm.get_address }}<br>
                <!-- img src="https://s3.us-west-2.amazonaws.com/the-development-tracker/images/Old-Articles/minneapolis/home2-suites-by-hilton-in-the-works-for-prospect-park/ScreenShot2019-08-06at7.08.28PM-format2500wslughome2-suites-by-hilton-in-the-works-for-prospect-parkkey1.png" style="max-inline-size: 60%;" -->
            </p>
            <h3>Food Options</h3>
            <div class="container-fluid py-2" style="overflow: auto; "> 
                <div class="d-flex flex-row flex-nowrap"> <!-- the flex-nowrap forces it to not to stack -->
                    {% for option in dorm.get_foodoptions_list %} <!-- displays options associated from the dorm object -->
                    <div class="card card-body m-2">{{ option }}</div>
                    </div>
                    {% endfor %}
                </div>
          </div>
        {% else %}
          <p> I got nothing for ya, bud.</p>
        {% endif %}
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    </body>
</html>