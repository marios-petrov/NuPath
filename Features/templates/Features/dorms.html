{% extends './base.html' %}
{% load static %} 
<!-- ANDY MADE THIS ONE-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} Dorms {% endblock %}</title>
    <link rel="stylesheet" type="text/css" href="https://bootswatch.com/5/zephyr/bootstrap.min.css">
</head>
<body>
  {% block content %}
    <style>
        .card-body {
            min-height: 300px;
            min-width: 300px;
            margin-right: 5px;
        }
        .container-fluid {
            min-height: 330px;
        }
    </style>
    <script>
        function printPageArea(AreaID){
            var printContent = document.getElementById(AreaID).innerHTML;
            var originalContent = document.body.innerHTML;
            document.body.innerHTML = printContent;
            window.print();
            document.body.innerHTML = originalContent;
        }
    </script>
    <h2 class="font-weight-light m-2">View your housing options...</h2>
    <!-- {% if current_dorm %} <h4 class="m-2"> Current housing choice: {{ current_dorm }}</h4> {% endif %} Return the dorm that is marked as "true" -->
    <div class="container-fluid py-2" style="overflow: auto;"> 
        <!-- container-fluid is a full screen-width bootstrap container. the overflow lets you scroll horizontally -->
        <div class="d-flex flex-row flex-nowrap"> <!-- the flex-nowrap forces it to not to stack -->
          {% for dorm in dorms %}
          <div class="card card-body m-2">
            <!--img src="{{ dorm.dormpic1.url }}" class="card-img object-fit-cover" -->
            <div class="card-img-overlay">
              {{ dorm.dormtype }}
              <input type="hidden" name="dorm" value="{{ dorm.id }}">
              <a href="{% url 'dormview' dorm.id %}" class="stretched-link"></a>
            </div>
          </div> 
            {% endfor %}
        </div>
    </div>
    
    <div class="m-2" id="insiderchecklist">
        <h2 class="font-weight-light m-2">Insider Guide Checklist</h2>
        <form method="POST" action="{% url 'dorms' %}">
            {% csrf_token %}
        <ul class="list-group list-group-light">
        <!-- Assuming you have a variable named 'user_checklist' containing the UserChecklist instance in your view -->
        <!-- generated by chatgpt, I decided I don't want a complicated schema for what should be a fixed list-->
            <li class="list-group-item">
                <input type="checkbox" name="access_ncf_email" {% if checklist.access_ncf_email %}checked{% endif %}>
                <input type="hidden" name="access_ncf_email" value="off"> <!-- you need this here to POST an uncheck!-->
                <label for="access_ncf_email">Access your NCF email</label>
            </li>
            <li class="list-group-item">
                <input type="checkbox" name="subscribe_to_ncfsafe" {% if checklist.subscribe_to_ncfsafe %}checked{% endif %}>
                <input type="hidden" name="subscribe_to_ncfsafe" value="off">
                <label for="subscribe_to_ncfsafe">Subscribe to NCFsafe</label>
            </li>
            <li class="list-group-item">
                <input type="checkbox" name="fafsa" {% if checklist.fafsa %}checked{% endif %}>
                <input type="hidden" name="fafsa" value="off">
                <label for="fafsa">FAFSA</label>
            </li>
            <li class="list-group-item">
                <input type="checkbox" name="residency_classification" {% if checklist.residency_classification %}checked{% endif %}>
                <input type="hidden" name="residency_classification" value="off">
                <label for="residency_classification">Residency Classification</label>
            </li>
            <li class="list-group-item">
                <input type="checkbox" name="housing_and_meal_plans" {% if checklist.housing_and_meal_plans %}checked{% endif %}>
                <input type="hidden" name="housing_and_meal_plans" value="off">
                <label for="housing_and_meal_plans">Housing and Meal Plans</label>
            </li>
            <li class="list-group-item">
                <input type="checkbox" name="student_id" {% if checklist.student_id %}checked{% endif %}>
                <input type="hidden" name="student_id" value="off">
                <label for="student_id">Student ID</label>
            </li>
            <li class="list-group-item">
                <input type="checkbox" name="parking_pass" {% if checklist.parking_pass %}checked{% endif %}>
                <input type="hidden" name="parking_pass" value="off">
                <label for="parking_pass">Parking Pass</label>
            </li>
            <li class="list-group-item">
                <input type="checkbox" name="download_corq" {% if checklist.download_corq %}checked{% endif %}>
                <input type="hidden" name="download_corq" value="off">
                <label for="download_corq">Download Corq</label>
            </li>
        </ul>
        <button class="btn btn-primary m-2" type="submit">Update Checklist</button> 
    </form>
    <button class="btn btn-light m-1" onclick="printPageArea('insiderchecklist')">Print</button> 
    </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
      {% endblock %}
    </body>
</html>

