{% extends 'Features\base.html' %}
{% block content %}
{% block title %}Calendar{% endblock %}
{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'css\calendar\calendar.css' %}">

<div class="container calendar-container">
    <!-- Calendar -->
    <div class="calendar-header">
        <h2>March</h2>
    </div>
    <table class="table table-bordered calendar-table">
        <thead>
            <tr>
                <th>Sun</th>
                <th>Mon</th>
                <th>Tue</th>
                <th>Wed</th>
                <th>Thu</th>
                <th>Fri</th>
                <th>Sat</th>
            </tr>
        </thead>
        <tbody>
            <!-- Dummy data for demonstration purposes -->
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td><span class="event-banner">Event 1</span></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td><span class="event-banner">Event 2</span></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <!-- Add more rows for other weeks in the month -->
        </tbody>
    </table>
</div>

<script>
  // Adjust event banner font size based on cell width
  function adjustEventBannerFontSize() {
    var cells = document.querySelectorAll('.calendar-table td');
    cells.forEach(function(cell) {
      var cellWidth = cell.offsetWidth;
      var eventBanner = cell.querySelector('.event-banner');
      if (eventBanner) {
        var eventBannerWidth = eventBanner.offsetWidth;
        var fontSize = parseFloat(window.getComputedStyle(eventBanner).fontSize);
        while (eventBannerWidth > cellWidth) {
          fontSize -= 1;
          eventBanner.style.fontSize = fontSize + 'px';
          eventBannerWidth = eventBanner.offsetWidth;
        }
      }
    });
  }

  // Adjust font size on page load and window resize
  window.addEventListener('load', adjustEventBannerFontSize);
  window.addEventListener('resize', adjustEventBannerFontSize);
</script>

{% endblock %}