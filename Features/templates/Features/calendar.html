{% extends 'Features\base.html' %}
{% block content %}
{% block title %}Calendar{% endblock %}
{% load static %}

<!-- calendar template (Tre) -->

<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
<!-- fullcalendar library, the one nate used -->

<div> <!-- refactored from nate's code -->
    <div id="calendar"></div>


    <div class="col-2 pt-2">
        <button class="btn fc-button-primary fc-button-active"  data-toggle="modal" data-target="#exampleModal">Add Event</button>
    </div>
</div>

<!-- calendar event script -->
<script>
    // from here, same one nate used: https://fullcalendar.io/docs/multimonth-stack
    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            timeZone: 'GMT-5', // our time zone (starting march 10th, before that its GMT-6)
            initialView: 'dayGridMonth',
            events: [
            {% for e in events %}
                {
                    title: '{{e.title}}',
                    start: '{{e.start_time|date:"c"}}',
                    description: '{{e.description}}'
                },
            {% endfor %}
            ],
            editable: true,
            selectable: true
        });

        calendar.render();
    });
</script>

{% endblock %}